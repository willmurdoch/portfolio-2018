//Mixins
@mixin gradient($color1, $color2, $angle)
  background: $wmColor1
  background: -moz-linear-gradient($angle, $color1 0%, $color2 100%)
  background: -webkit-linear-gradient($angle, $color1 0%,$color2 100%)
  background: linear-gradient($angle, $color1 0%,$color2 100%)

//Colors
$wmBlack: #0e0e0e
$wmColor1: #ffc878

//Breakpoints
$mobile: 800px

//Globals
*
  box-sizing: border-box
html
  font-size: 18px
body
  position: relative
  margin: 0
  width: 100%
  height: 100%
  @include gradient(#ffffff, #f1f1f1, 45deg)
  font-family: Arial, sans-serif
  color: $wmBlack
  overflow-x: hidden
  overflow-y: scroll

//Text formatting
h1
  font-size: 4rem
h2
  font-size: 3rem
h3
  font-size: 2rem
p, a
  font-size: 1rem
p
  margin: 0 0 1rem
#wrapper
  position: relative
  width: 100%
  height: 100%
  overflow: hidden
.cta
  display: table
  padding: 0.65em 1em
  background: $wmColor1
  border: 2px solid $wmBlack
  color: $wmBlack
  text-transform: uppercase
  font-weight: 600
  margin: 2.5rem 0 0
  text-decoration: none
  transition: color 0.1s ease-out, background 0.1s ease-out, border-color 0.1s ease-out
  &:hover
    background: $wmBlack
    color: $wmColor1
    border-color: $wmColor1

@keyframes spin
  from
    transform: translateX(-50%) translateY(-50%) translateZ(0) rotate(0deg)
  to
    transform: translateX(-50%) translateY(-50%) translateZ(0) rotate(360deg)

//Project entries
.project
  position: relative
  width: calc(95% - 2rem)
  max-width: 1400px
  margin: 20vh auto 50vh
  font-size: 0
  display: table
  &:last-of-type
    margin-bottom: 0
    padding-bottom: 12rem
  @media (max-width: $mobile)
    margin: 10vh auto 0
  .circle
    display: block
    position: absolute
    top: 50%
    width: 45%
    padding-bottom: 45%
    border-radius: 100%
    background: rgba($wmColor1, 0.2)
    z-index: 0
    backface-visibility: hidden
    perspective: 1000
    transform-origin: 50% 49%
    transform: translateX(-50%) translateY(-50%) translateZ(0)
    animation: spin 3s linear infinite
  &:nth-child(odd) .circle
    left: 40%
  &:nth-child(even) .circle
    left: 60%
  h3
    margin: 0
    text-transform: uppercase
    &:after
      content: ''
      position: relative
      display: block
      width: 40px
      height: 6px
      background: $wmColor1
      margin: 1rem 0
  .textWrap, .imageWrap
    cursor: pointer
    display: inline-block
    vertical-align: middle
    position: relative
    z-index: 1
    img:hover
      border-color: $wmColor1
  .textWrap
    width: 40%
    max-width: 450px
    padding-right: 4rem
    @media (max-width: $mobile)
      width: 90%
      max-width: 90%
      padding-right: 0
    .count
      font-size: 1rem
      font-weight: 900
      position: absolute
      color: $wmColor1
      left: -2rem
      top: 0
      @media (max-width: $mobile)
        left: 0
        position: relative
  .imageWrap
    width: calc(100% - 450px)
    position: relative
    @media (max-width: 1125px)
      width: 60%
    @media (max-width: $mobile)
      width: 90%
      margin-top: 2rem
    img
      max-width: 100%
      border: 2px solid #888
      height: auto
      display: block
      margin: 0 auto
      image-rendering: -moz-crisp-edges
      image-rendering:   -o-crisp-edges
      image-rendering: -webkit-optimize-contrast
      image-rendering: crisp-edges
      -ms-interpolation-mode: nearest-neighbor
      transition: border-color 0.1s ease-out
    .desktop, .mobile
      backface-visibility: hidden
      perspective: 1000
      transition: all 0.2s ease-out
    .desktop
      transform: scale(1)
      &.in
        transform: scale(1.1)
    .desktop.out
      transform: scale(0.9)
      & ~ .mobile
        width: 375px
        max-width: 40%
        bottom: -2rem
    .mobile
      position: absolute
      right: -1rem
      bottom: -1rem
      width: 285px
      max-width: 30%
      transform-origin: 50% 20%
      &.out
        transform: translateX(110%) scale(0.8)
  //Flip even sections to mix things up
  @media (min-width: $mobile)
    &:nth-of-type(even)
      direction: rtl
      .textWrap
        direction: ltr
        padding-right: 0
        padding-left: 4rem
        .count
          left: 2rem
      .imageWrap
        .mobile
          right: unset
          left: -1rem
          &.out
            transform: translateX(-110%) scale(0.8)
